(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{hn6T:function(e,t,n){"use strict";n.r(t),n.d(t,"VideoPlayerModule",function(){return oe});var i=n("ofXK"),s=n("tyNb"),r=n("Wp6s"),a=n("fXoL"),o=n("c+eF"),u=n("vuIU"),l=n("1OyB"),c=n("XNiG"),h=n("xgIS"),d=n("HDdC"),p=n("itXk"),f=n("PqYM"),v=n("lJxs"),g=function e(){Object(l.a)(this,e)};g.\u0275fac=function(e){return new(e||g)},g.VG_ENDED="ended",g.VG_PAUSED="paused",g.VG_PLAYING="playing",g.VG_LOADING="waiting",g.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return new g},token:g,providedIn:"root"});var y=function(){function e(){Object(l.a)(this,e),this.medias={},this.playerReadyEvent=new a.EventEmitter(!0),this.isPlayerReady=!1}return Object(u.a)(e,[{key:"onPlayerReady",value:function(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}},{key:"getDefaultMedia",value:function(){for(var e in this.medias)if(this.medias[e])return this.medias[e]}},{key:"getMasterMedia",value:function(){var e;for(var t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=this.medias[t];break}return e||this.getDefaultMedia()}},{key:"isMasterDefined",value:function(){var e=!1;for(var t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=!0;break}return e}},{key:"getMediaById",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.medias[e];return e&&"*"!==e||(t=this),t}},{key:"play",value:function(){for(var e in this.medias)this.medias[e]&&this.medias[e].play()}},{key:"pause",value:function(){for(var e in this.medias)this.medias[e]&&this.medias[e].pause()}},{key:"duration",get:function(){return this.$$getAllProperties("duration")}},{key:"currentTime",get:function(){return this.$$getAllProperties("currentTime")},set:function(e){this.$$setAllProperties("currentTime",e)}},{key:"state",get:function(){return this.$$getAllProperties("state")},set:function(e){this.$$setAllProperties("state",e)}},{key:"volume",get:function(){return this.$$getAllProperties("volume")},set:function(e){this.$$setAllProperties("volume",e)}},{key:"playbackRate",get:function(){return this.$$getAllProperties("playbackRate")},set:function(e){this.$$setAllProperties("playbackRate",e)}},{key:"canPlay",get:function(){return this.$$getAllProperties("canPlay")}},{key:"canPlayThrough",get:function(){return this.$$getAllProperties("canPlayThrough")}},{key:"isMetadataLoaded",get:function(){return this.$$getAllProperties("isMetadataLoaded")}},{key:"isWaiting",get:function(){return this.$$getAllProperties("isWaiting")}},{key:"isCompleted",get:function(){return this.$$getAllProperties("isCompleted")}},{key:"isLive",get:function(){return this.$$getAllProperties("isLive")}},{key:"isMaster",get:function(){return this.$$getAllProperties("isMaster")}},{key:"time",get:function(){return this.$$getAllProperties("time")}},{key:"buffer",get:function(){return this.$$getAllProperties("buffer")}},{key:"buffered",get:function(){return this.$$getAllProperties("buffered")}},{key:"subscriptions",get:function(){return this.$$getAllProperties("subscriptions")}},{key:"textTracks",get:function(){return this.$$getAllProperties("textTracks")}},{key:"seekTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in this.medias)this.medias[n]&&this.$$seek(this.medias[n],e,t)}},{key:"$$seek",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.duration;i?(this.isMasterDefined()&&(s=this.getMasterMedia().duration),n=t*s/100):n=t,e.currentTime=n}},{key:"addTextTrack",value:function(e,t,n){for(var i in this.medias)this.medias[i]&&this.$$addTextTrack(this.medias[i],e,t,n)}},{key:"$$addTextTrack",value:function(e,t,n,i){e.addTextTrack(t,n,i)}},{key:"$$getAllProperties",value:function(e){var t,n={};for(var i in this.medias)this.medias[i]&&(n[i]=this.medias[i]);switch(Object.keys(n).length){case 0:switch(e){case"state":t=g.VG_PAUSED;break;case"playbackRate":case"volume":t=1;break;case"time":t={current:0,total:0,left:0}}break;case 1:t=n[Object.keys(n)[0]][e];break;default:t=n[this.getMasterMedia().id][e]}return t}},{key:"$$setAllProperties",value:function(e,t){for(var n in this.medias)this.medias[n]&&(this.medias[n][e]=t)}},{key:"registerElement",value:function(e){this.videogularElement=e}},{key:"registerMedia",value:function(e){this.medias[e.id]=e}},{key:"unregisterMedia",value:function(e){delete this.medias[e.id]}}]),e}();y.\u0275fac=function(e){return new(e||y)},y.ctorParameters=function(){return[]},y.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return new y},token:y,providedIn:"root"});var b=function(){function e(){Object(l.a)(this,e),this.isHiddenSubject=new c.a,this.isHidden=this.isHiddenSubject.asObservable()}return Object(u.a)(e,[{key:"state",value:function(e){this.isHiddenSubject.next(e)}}]),e}();b.\u0275fac=function(e){return new(e||b)},b.ctorParameters=function(){return[]},b.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return new b},token:b,providedIn:"root"});var m=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"getZIndex",value:function(){for(var e,t=1,n=document.getElementsByTagName("*"),i=0,s=n.length;i<s;i++)(e=parseInt(window.getComputedStyle(n[i])["z-index"],10))>t&&(t=e+1);return t}},{key:"isMobileDevice",value:function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},{key:"isiOSDevice",value:function(){return navigator.userAgent.match(/ip(hone|ad|od)/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}},{key:"isCordova",value:function(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}}]),e}();m.\u0275fac=function(e){return new(e||m)},m.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return new m},token:m,providedIn:"root"});var k=function(){function e(){Object(l.a)(this,e),this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new a.EventEmitter}return Object(u.a)(e,[{key:"init",value:function(e,t){var n=this;this.videogularElement=e,this.medias=t;var i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var s in i)if(i[s].enabled in document){this.polyfill=i[s];break}if(m.isiOSDevice()&&(this.polyfill=i.ios),this.isAvailable=null!=this.polyfill,null!=this.polyfill){var r;switch(this.polyfill.onchange){case"mozfullscreenchange":r=document;break;case"webkitendfullscreen":r=this.medias.toArray()[0].elem;break;default:r=e}this.fsChangeSubscription=Object(h.a)(r,this.polyfill.onchange).subscribe(function(){n.onFullscreenChange()})}}},{key:"onFullscreenChange",value:function(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}},{key:"toggleFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isFullscreen?this.exit():this.request(e)}},{key:"request",value:function(e){e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen&&(m.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||m.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement))}},{key:"enterElementInFullScreen",value:function(e){e[this.polyfill.request]()}},{key:"exit",value:function(){this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen&&document[this.polyfill.exit]()}}]),e}();k.\u0275fac=function(e){return new(e||k)},k.ctorParameters=function(){return[]},k.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return new k},token:k,providedIn:"root"});var P=function e(){Object(l.a)(this,e)};P.\u0275fac=function(e){return new(e||P)},P.VG_ABORT="abort",P.VG_CAN_PLAY="canplay",P.VG_CAN_PLAY_THROUGH="canplaythrough",P.VG_DURATION_CHANGE="durationchange",P.VG_EMPTIED="emptied",P.VG_ENCRYPTED="encrypted",P.VG_ENDED="ended",P.VG_ERROR="error",P.VG_LOADED_DATA="loadeddata",P.VG_LOADED_METADATA="loadedmetadata",P.VG_LOAD_START="loadstart",P.VG_PAUSE="pause",P.VG_PLAY="play",P.VG_PLAYING="playing",P.VG_PROGRESS="progress",P.VG_RATE_CHANGE="ratechange",P.VG_SEEK="seek",P.VG_SEEKED="seeked",P.VG_SEEKING="seeking",P.VG_STALLED="stalled",P.VG_SUSPEND="suspend",P.VG_TIME_UPDATE="timeupdate",P.VG_VOLUME_CHANGE="volumechange",P.VG_WAITING="waiting",P.VG_LOAD="load",P.VG_ENTER="enter",P.VG_EXIT="exit",P.VG_START_ADS="startads",P.VG_END_ADS="endads",P.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return new P},token:P,providedIn:"root"});var E=function(){function e(t){Object(l.a)(this,e),this.ref=t,this.onEnterCuePoint=new a.EventEmitter,this.onUpdateCuePoint=new a.EventEmitter,this.onExitCuePoint=new a.EventEmitter,this.onCompleteCuePoint=new a.EventEmitter,this.subscriptions=[],this.cuesSubscriptions=[],this.totalCues=0}return Object(u.a)(e,[{key:"ngOnInit",value:function(){this.onLoad$=Object(h.a)(this.ref.nativeElement,P.VG_LOAD),this.subscriptions.push(this.onLoad$.subscribe(this.onLoad.bind(this)))}},{key:"onLoad",value:function(e){var t=e.target.track.cues;this.ref.nativeElement.cues=t,this.updateCuePoints(t)}},{key:"updateCuePoints",value:function(e){this.cuesSubscriptions.forEach(function(e){return e.unsubscribe()});for(var t=0,n=e.length;t<n;t++)this.onEnter$=Object(h.a)(e[t],P.VG_ENTER),this.cuesSubscriptions.push(this.onEnter$.subscribe(this.onEnter.bind(this))),this.onExit$=Object(h.a)(e[t],P.VG_EXIT),this.cuesSubscriptions.push(this.onExit$.subscribe(this.onExit.bind(this)))}},{key:"onEnter",value:function(e){this.onEnterCuePoint.emit(e.target)}},{key:"onExit",value:function(e){this.onExitCuePoint.emit(e.target)}},{key:"ngDoCheck",value:function(){this.ref.nativeElement.track&&this.ref.nativeElement.track.cues&&(this.totalCues!==this.ref.nativeElement.track.cues.length&&(this.totalCues=this.ref.nativeElement.track.cues.length,this.ref.nativeElement.cues=this.ref.nativeElement.track.cues,this.updateCuePoints(this.ref.nativeElement.track.cues)))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();E.\u0275fac=function(e){return new(e||E)(a["\u0275\u0275directiveInject"](a.ElementRef))},E.\u0275dir=a["\u0275\u0275defineDirective"]({type:E,selectors:[["","vgCuePoints",""]],outputs:{onEnterCuePoint:"onEnterCuePoint",onUpdateCuePoint:"onUpdateCuePoint",onExitCuePoint:"onExitCuePoint",onCompleteCuePoint:"onCompleteCuePoint"}}),E.ctorParameters=function(){return[{type:a.ElementRef}]},E.propDecorators={onEnterCuePoint:[{type:a.Output}],onUpdateCuePoint:[{type:a.Output}],onExitCuePoint:[{type:a.Output}],onCompleteCuePoint:[{type:a.Output}]};var I=function(){function e(t,n){Object(l.a)(this,e),this.api=t,this.ref=n,this.state=g.VG_PAUSED,this.time={current:0,total:0,left:0},this.buffer={end:0},this.canPlay=!1,this.canPlayThrough=!1,this.isMetadataLoaded=!1,this.isWaiting=!1,this.isCompleted=!1,this.isLive=!1,this.isBufferDetected=!1,this.checkInterval=200,this.currentPlayPos=0,this.lastPlayPos=0,this.playAtferSync=!1,this.bufferDetected=new c.a}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.vgMedia.nodeName?this.elem=this.vgMedia:this.elem=this.vgMedia.elem,this.api.registerMedia(this),this.subscriptions={abort:Object(h.a)(this.elem,P.VG_ABORT),canPlay:Object(h.a)(this.elem,P.VG_CAN_PLAY),canPlayThrough:Object(h.a)(this.elem,P.VG_CAN_PLAY_THROUGH),durationChange:Object(h.a)(this.elem,P.VG_DURATION_CHANGE),emptied:Object(h.a)(this.elem,P.VG_EMPTIED),encrypted:Object(h.a)(this.elem,P.VG_ENCRYPTED),ended:Object(h.a)(this.elem,P.VG_ENDED),error:Object(h.a)(this.elem,P.VG_ERROR),loadedData:Object(h.a)(this.elem,P.VG_LOADED_DATA),loadedMetadata:Object(h.a)(this.elem,P.VG_LOADED_METADATA),loadStart:Object(h.a)(this.elem,P.VG_LOAD_START),pause:Object(h.a)(this.elem,P.VG_PAUSE),play:Object(h.a)(this.elem,P.VG_PLAY),playing:Object(h.a)(this.elem,P.VG_PLAYING),progress:Object(h.a)(this.elem,P.VG_PROGRESS),rateChange:Object(h.a)(this.elem,P.VG_RATE_CHANGE),seeked:Object(h.a)(this.elem,P.VG_SEEKED),seeking:Object(h.a)(this.elem,P.VG_SEEKING),stalled:Object(h.a)(this.elem,P.VG_STALLED),suspend:Object(h.a)(this.elem,P.VG_SUSPEND),timeUpdate:Object(h.a)(this.elem,P.VG_TIME_UPDATE),volumeChange:Object(h.a)(this.elem,P.VG_VOLUME_CHANGE),waiting:Object(h.a)(this.elem,P.VG_WAITING),startAds:Object(h.a)(window,P.VG_START_ADS),endAds:Object(h.a)(window,P.VG_END_ADS),mutation:new d.a(function(t){var n=new MutationObserver(function(e){t.next(e)});return n.observe(e.elem,{childList:!0,attributes:!0}),function(){n.disconnect()}}),bufferDetected:this.bufferDetected},this.mutationObs=this.subscriptions.mutation.subscribe(this.onMutation.bind(this)),this.canPlayObs=this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this)),this.canPlayThroughObs=this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this)),this.loadedMetadataObs=this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this)),this.waitingObs=this.subscriptions.waiting.subscribe(this.onWait.bind(this)),this.progressObs=this.subscriptions.progress.subscribe(this.onProgress.bind(this)),this.endedObs=this.subscriptions.ended.subscribe(this.onComplete.bind(this)),this.playingObs=this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this)),this.playObs=this.subscriptions.play.subscribe(this.onPlay.bind(this)),this.pauseObs=this.subscriptions.pause.subscribe(this.onPause.bind(this)),this.timeUpdateObs=this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this)),this.volumeChangeObs=this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this)),this.errorObs=this.subscriptions.error.subscribe(this.onError.bind(this)),this.vgMaster&&this.api.playerReadyEvent.subscribe(function(){e.prepareSync()})}},{key:"prepareSync",value:function(){var e=this,t=[];for(var n in this.api.medias)this.api.medias[n]&&t.push(this.api.medias[n].subscriptions.canPlay);this.canPlayAllSubscription=Object(p.b)(t).pipe(Object(v.a)(function(){for(var t=function(e){return!!(null==e?void 0:e.target)&&4===e.target.readyState},n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var r=i.some(t);r&&!e.syncSubscription&&(e.startSync(),e.syncSubscription.unsubscribe())})).subscribe()}},{key:"startSync",value:function(){var e=this;this.syncSubscription=Object(f.a)(0,1e3).subscribe(function(){for(var t in e.api.medias)if(e.api.medias[t]!==e){var n=e.api.medias[t].currentTime-e.currentTime;n<-.3||n>.3?(e.playAtferSync=e.state===g.VG_PLAYING,e.pause(),e.api.medias[t].pause(),e.api.medias[t].currentTime=e.currentTime):e.playAtferSync&&(e.play(),e.api.medias[t].play(),e.playAtferSync=!1)}})}},{key:"onMutation",value:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if("attributes"===i.type&&"src"===i.attributeName){if(i.target.src&&i.target.src.length>0&&i.target.src.indexOf("blob:")<0){this.loadMedia();break}}else if("childList"===i.type&&i.removedNodes.length&&"source"===i.removedNodes[0].nodeName.toLowerCase()){this.loadMedia();break}}}},{key:"loadMedia",value:function(){var e=this;this.vgMedia.pause(),this.vgMedia.currentTime=0,this.stopBufferCheck(),this.isBufferDetected=!0,this.bufferDetected.next(this.isBufferDetected),setTimeout(function(){return e.vgMedia.load()},10)}},{key:"play",value:function(){var e=this;if(!(this.playPromise||this.state!==g.VG_PAUSED&&this.state!==g.VG_ENDED))return this.playPromise=this.vgMedia.play(),this.playPromise&&this.playPromise.then&&this.playPromise.catch&&this.playPromise.then(function(){e.playPromise=null}).catch(function(){e.playPromise=null}),this.playPromise}},{key:"pause",value:function(){var e=this;this.playPromise?this.playPromise.then(function(){e.vgMedia.pause()}):this.vgMedia.pause()}},{key:"id",get:function(){var e;return this.vgMedia&&(e=this.vgMedia.id),e}},{key:"duration",get:function(){return this.vgMedia.duration===1/0?this.specifiedDuration:this.vgMedia.duration}},{key:"currentTime",get:function(){return this.vgMedia.currentTime},set:function(e){this.vgMedia.currentTime=e}},{key:"volume",get:function(){return this.vgMedia.volume},set:function(e){this.vgMedia.volume=e}},{key:"playbackRate",get:function(){return this.vgMedia.playbackRate},set:function(e){this.vgMedia.playbackRate=e}},{key:"buffered",get:function(){return this.vgMedia.buffered}},{key:"textTracks",get:function(){return this.vgMedia.textTracks}},{key:"onCanPlay",value:function(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlay=!0,this.ref.detectChanges()}},{key:"onCanPlayThrough",value:function(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlayThrough=!0,this.ref.detectChanges()}},{key:"onLoadMetadata",value:function(e){this.isMetadataLoaded=!0,this.time={current:0,left:0,total:1e3*this.duration},this.state=g.VG_PAUSED;var t=Math.round(this.time.total);this.isLive=t===1/0,this.ref.detectChanges()}},{key:"onWait",value:function(e){this.isWaiting=!0,this.ref.detectChanges()}},{key:"onComplete",value:function(e){this.isCompleted=!0,this.state=g.VG_ENDED,this.ref.detectChanges()}},{key:"onStartPlaying",value:function(e){this.state=g.VG_PLAYING,this.ref.detectChanges()}},{key:"onPlay",value:function(e){this.state=g.VG_PLAYING,this.vgMaster&&(this.syncSubscription&&!this.syncSubscription.closed||this.startSync()),this.startBufferCheck(),this.ref.detectChanges()}},{key:"onPause",value:function(e){this.state=g.VG_PAUSED,this.vgMaster&&(this.playAtferSync||this.syncSubscription.unsubscribe()),this.stopBufferCheck(),this.ref.detectChanges()}},{key:"onTimeUpdate",value:function(e){var t=this.buffered.length-1;this.time={current:1e3*this.currentTime,total:this.time.total,left:1e3*(this.duration-this.currentTime)},t>=0&&(this.buffer={end:1e3*this.buffered.end(t)}),this.ref.detectChanges()}},{key:"onProgress",value:function(e){var t=this.buffered.length-1;t>=0&&(this.buffer={end:1e3*this.buffered.end(t)}),this.ref.detectChanges()}},{key:"onVolumeChange",value:function(e){this.ref.detectChanges()}},{key:"onError",value:function(e){this.ref.detectChanges()}},{key:"bufferCheck",value:function(){var e=1/this.checkInterval;this.currentPlayPos=this.currentTime,!this.isBufferDetected&&this.currentPlayPos<this.lastPlayPos+e&&(this.isBufferDetected=!0),this.isBufferDetected&&this.currentPlayPos>this.lastPlayPos+e&&(this.isBufferDetected=!1),this.bufferDetected.closed||this.bufferDetected.next(this.isBufferDetected),this.lastPlayPos=this.currentPlayPos}},{key:"startBufferCheck",value:function(){var e=this;this.checkBufferSubscription=Object(f.a)(0,this.checkInterval).subscribe(function(){e.bufferCheck()})}},{key:"stopBufferCheck",value:function(){this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected)}},{key:"seekTime",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.duration;t=n?e*i/100:e,this.currentTime=t}},{key:"addTextTrack",value:function(e,t,n,i){var s=this.vgMedia.addTextTrack(e,t,n);return i&&(s.mode=i),s}},{key:"ngOnDestroy",value:function(){this.vgMedia.src="",this.mutationObs.unsubscribe(),this.canPlayObs.unsubscribe(),this.canPlayThroughObs.unsubscribe(),this.loadedMetadataObs.unsubscribe(),this.waitingObs.unsubscribe(),this.progressObs.unsubscribe(),this.endedObs.unsubscribe(),this.playingObs.unsubscribe(),this.playObs.unsubscribe(),this.pauseObs.unsubscribe(),this.timeUpdateObs.unsubscribe(),this.volumeChangeObs.unsubscribe(),this.errorObs.unsubscribe(),this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.syncSubscription&&this.syncSubscription.unsubscribe(),this.bufferDetected.complete(),this.bufferDetected.unsubscribe(),this.api.unregisterMedia(this)}}]),e}();I.\u0275fac=function(e){return new(e||I)(a["\u0275\u0275directiveInject"](y),a["\u0275\u0275directiveInject"](a.ChangeDetectorRef))},I.\u0275dir=a["\u0275\u0275defineDirective"]({type:I,selectors:[["","vgMedia",""]],inputs:{vgMedia:"vgMedia",vgMaster:"vgMaster"}}),I.ctorParameters=function(){return[{type:y},{type:a.ChangeDetectorRef}]},I.propDecorators={vgMedia:[{type:a.Input}],vgMaster:[{type:a.Input}]};var w=function(){function e(t,n,i,s){Object(l.a)(this,e),this.api=n,this.fsAPI=i,this.controlsHidden=s,this.isFullscreen=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.onPlayerReady=new a.EventEmitter,this.onMediaReady=new a.EventEmitter,this.subscriptions=[],this.elem=t.nativeElement,this.api.registerElement(this.elem)}return Object(u.a)(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.medias.toArray().forEach(function(t){e.api.registerMedia(t)}),this.fsAPI.init(this.elem,this.medias),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.api.onPlayerReady(this.fsAPI),this.onPlayerReady.emit(this.api)}},{key:"onChangeFullscreen",value:function(e){this.fsAPI.nativeFullscreen?this.isNativeFullscreen=e:(this.isFullscreen=e,this.zIndex=e?m.getZIndex().toString():"auto")}},{key:"onHideControls",value:function(e){this.areControlsHidden=e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();w.\u0275fac=function(e){return new(e||w)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y),a["\u0275\u0275directiveInject"](k),a["\u0275\u0275directiveInject"](b))},w.\u0275cmp=a["\u0275\u0275defineComponent"]({type:w,selectors:[["vg-player"]],contentQueries:function(e,t,n){var i;(1&e&&a["\u0275\u0275contentQuery"](n,I,0),2&e)&&(a["\u0275\u0275queryRefresh"](i=a["\u0275\u0275loadQuery"]())&&(t.medias=i))},hostVars:8,hostBindings:function(e,t){2&e&&(a["\u0275\u0275styleProp"]("z-index",t.zIndex),a["\u0275\u0275classProp"]("fullscreen",t.isFullscreen)("native-fullscreen",t.isNativeFullscreen)("controls-hidden",t.areControlsHidden))},outputs:{onPlayerReady:"onPlayerReady",onMediaReady:"onMediaReady"},features:[a["\u0275\u0275ProvidersFeature"]([y,k,b])],ngContentSelectors:["*"],decls:1,vars:0,template:function(e,t){1&e&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275projection"](0))},styles:["\n      vg-player {\n        font-family: 'videogular';\n        position: relative;\n        display: flex;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background-color: black;\n      }\n      vg-player.fullscreen {\n        position: fixed;\n        left: 0;\n        top: 0;\n      }\n      vg-player.native-fullscreen.controls-hidden {\n        cursor: none;\n      }\n    "],encapsulation:2}),w.ctorParameters=function(){return[{type:a.ElementRef},{type:y},{type:k},{type:b}]},w.propDecorators={isFullscreen:[{type:a.HostBinding,args:["class.fullscreen"]}],isNativeFullscreen:[{type:a.HostBinding,args:["class.native-fullscreen"]}],areControlsHidden:[{type:a.HostBinding,args:["class.controls-hidden"]}],zIndex:[{type:a.HostBinding,args:["style.z-index"]}],onPlayerReady:[{type:a.Output}],onMediaReady:[{type:a.Output}],medias:[{type:a.ContentChildren,args:[I]}]};var A=[y,b,k,m,P,g],S=function e(){Object(l.a)(this,e)};S.\u0275fac=function(e){return new(e||S)},S.\u0275mod=a["\u0275\u0275defineNgModule"]({type:S}),S.\u0275inj=a["\u0275\u0275defineInjector"]({providers:[].concat(A),imports:[[i.CommonModule]]});var x=function(){function e(t,n,i,s){Object(l.a)(this,e),this.API=n,this.fsAPI=i,this.controlsHidden=s,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.subscriptions=[],this.isBuffering=!1,this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){var e=this;this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(function(t){return e.onUpdateBuffer(t)}))}},{key:"onUpdateBuffer",value:function(e){this.isBuffering=e}},{key:"onChangeFullscreen",value:function(e){this.fsAPI.nativeFullscreen&&(this.isNativeFullscreen=e)}},{key:"onHideControls",value:function(e){this.areControlsHidden=e}},{key:"onClick",value:function(){switch(this.getState()){case g.VG_PLAYING:this.target.pause();break;case g.VG_PAUSED:case g.VG_ENDED:this.target.play()}}},{key:"getState",value:function(){var e=g.VG_PAUSED;if(this.target)if(this.target.state instanceof Array){for(var t=0,n=this.target.state.length;t<n;t++)if(this.target.state[t]===g.VG_PLAYING){e=g.VG_PLAYING;break}}else e=this.target.state;return e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();x.\u0275fac=function(e){return new(e||x)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y),a["\u0275\u0275directiveInject"](k),a["\u0275\u0275directiveInject"](b))},x.\u0275cmp=a["\u0275\u0275defineComponent"]({type:x,selectors:[["vg-overlay-play"]],hostVars:2,hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("click",function(){return t.onClick()}),2&e&&a["\u0275\u0275classProp"]("is-buffering",t.isBuffering)},inputs:{vgFor:"vgFor"},decls:2,vars:6,consts:[[1,"vg-overlay-play"],[1,"overlay-play-container"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275element"](1,"div",1),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275classProp"]("native-fullscreen",t.isNativeFullscreen)("controls-hidden",t.areControlsHidden),a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("vg-icon-play_arrow","playing"!==t.getState()))},styles:["\n      vg-overlay-play {\n        z-index: 200;\n      }\n      vg-overlay-play.is-buffering {\n        display: none;\n      }\n      vg-overlay-play .vg-overlay-play {\n        transition: all 0.5s;\n        cursor: pointer;\n        position: absolute;\n        display: block;\n        color: white;\n        width: 100%;\n        height: 100%;\n        font-size: 80px;\n        filter: alpha(opacity=60);\n        opacity: 0.6;\n      }\n      vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n        cursor: none;\n      }\n      vg-overlay-play\n        .vg-overlay-play\n        .overlay-play-container.vg-icon-play_arrow {\n        pointer-events: none;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 80px;\n      }\n      vg-overlay-play .vg-overlay-play:hover {\n        filter: alpha(opacity=100);\n        opacity: 1;\n      }\n      vg-overlay-play\n        .vg-overlay-play:hover\n        .overlay-play-container.vg-icon-play_arrow:before {\n        transform: scale(1.2);\n      }\n    "],encapsulation:2}),x.ctorParameters=function(){return[{type:a.ElementRef},{type:y},{type:k},{type:b}]},x.propDecorators={vgFor:[{type:a.Input}],isBuffering:[{type:a.HostBinding,args:["class.is-buffering"]}],onClick:[{type:a.HostListener,args:["click"]}]};var C=function e(){Object(l.a)(this,e)};C.\u0275fac=function(e){return new(e||C)},C.\u0275mod=a["\u0275\u0275defineNgModule"]({type:C}),C.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,S]]});var O=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.checkInterval=50,this.currentPlayPos=0,this.lastPlayPos=0,this.subscriptions=[],this.isBuffering=!1,this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){var e=this;this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(function(t){return e.onUpdateBuffer(t)}))}},{key:"onUpdateBuffer",value:function(e){this.isBuffering=e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();O.\u0275fac=function(e){return new(e||O)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},O.\u0275cmp=a["\u0275\u0275defineComponent"]({type:O,selectors:[["vg-buffering"]],hostVars:2,hostBindings:function(e,t){2&e&&a["\u0275\u0275classProp"]("is-buffering",t.isBuffering)},inputs:{vgFor:"vgFor"},decls:3,vars:0,consts:[[1,"vg-buffering"],[1,"bufferingContainer"],[1,"loadingSpinner"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275element"](2,"div",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())},styles:["\n      vg-buffering {\n        display: none;\n        z-index: 201;\n      }\n      vg-buffering.is-buffering {\n        display: block;\n      }\n\n      .vg-buffering {\n        position: absolute;\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n      .vg-buffering .bufferingContainer {\n        width: 100%;\n        position: absolute;\n        cursor: pointer;\n        top: 50%;\n        margin-top: -50px;\n        zoom: 1;\n        filter: alpha(opacity=60);\n        opacity: 0.6;\n      }\n      /* Loading Spinner\n        * http://www.alessioatzeni.com/blog/css3-loading-animation-loop/\n        */\n      .vg-buffering .loadingSpinner {\n        background-color: rgba(0, 0, 0, 0);\n        border: 5px solid rgba(255, 255, 255, 1);\n        opacity: 0.9;\n        border-top: 5px solid rgba(0, 0, 0, 0);\n        border-left: 5px solid rgba(0, 0, 0, 0);\n        border-radius: 50px;\n        box-shadow: 0 0 35px #ffffff;\n        width: 50px;\n        height: 50px;\n        margin: 0 auto;\n        -moz-animation: spin 0.5s infinite linear;\n        -webkit-animation: spin 0.5s infinite linear;\n      }\n      .vg-buffering .loadingSpinner .stop {\n        -webkit-animation-play-state: paused;\n        -moz-animation-play-state: paused;\n      }\n      @-moz-keyframes spin {\n        0% {\n          -moz-transform: rotate(0deg);\n        }\n        100% {\n          -moz-transform: rotate(360deg);\n        }\n      }\n      @-moz-keyframes spinoff {\n        0% {\n          -moz-transform: rotate(0deg);\n        }\n        100% {\n          -moz-transform: rotate(-360deg);\n        }\n      }\n      @-webkit-keyframes spin {\n        0% {\n          -webkit-transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n        }\n      }\n      @-webkit-keyframes spinoff {\n        0% {\n          -webkit-transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(-360deg);\n        }\n      }\n    "],encapsulation:2}),O.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},O.propDecorators={vgFor:[{type:a.Input}],isBuffering:[{type:a.HostBinding,args:["class.is-buffering"]}]};var D=function e(){Object(l.a)(this,e)};D.\u0275fac=function(e){return new(e||D)},D.\u0275mod=a["\u0275\u0275defineNgModule"]({type:D}),D.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,S]]});var j=n("KQm4"),R=["*"],M=["volumeBar"],V=function(e){return{dragging:e}};function F(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",4),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275property"]("value",n.id)("selected",!0===n.selected),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.label," ")}}function T(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"LIVE"),a["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"vgUtc"),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](a["\u0275\u0275pipeBind2"](2,1,n.getTime(),n.vgFormat))}}function _(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",4),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("value",n.qualityIndex)("selected",n.qualityIndex===(null==i.bitrateSelected?null:i.bitrateSelected.qualityIndex)),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",n.label," ")}}function G(e,t){if(1&e&&a["\u0275\u0275element"](0,"span",2),2&e){var n=t.$implicit;a["\u0275\u0275styleProp"]("width",null==n.$$style?null:n.$$style.width)("left",null==n.$$style?null:n.$$style.left)}}function L(e,t){1&e&&a["\u0275\u0275element"](0,"span",2)}var H=function(){function e(t,n,i){Object(l.a)(this,e),this.API=t,this.hidden=i,this.isAdsPlaying="initial",this.hideControls=!1,this.vgAutohide=!1,this.vgAutohideTime=3,this.subscriptions=[],this.elem=n.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.mouseMove$=Object(h.a)(this.API.videogularElement,"mousemove"),this.subscriptions.push(this.mouseMove$.subscribe(this.show.bind(this))),this.touchStart$=Object(h.a)(this.API.videogularElement,"touchstart"),this.subscriptions.push(this.touchStart$.subscribe(this.show.bind(this))),this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this))),this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this))),this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this))),this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)))}},{key:"ngAfterViewInit",value:function(){this.vgAutohide?this.hide():this.show()}},{key:"onPlay",value:function(){this.vgAutohide&&this.hide()}},{key:"onPause",value:function(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1)}},{key:"onStartAds",value:function(){this.isAdsPlaying="none"}},{key:"onEndAds",value:function(){this.isAdsPlaying="initial"}},{key:"hide",value:function(){this.vgAutohide&&(clearTimeout(this.timer),this.hideAsync())}},{key:"show",value:function(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1),this.vgAutohide&&this.hideAsync()}},{key:"hideAsync",value:function(){var e=this;this.API.state===g.VG_PLAYING&&(this.timer=setTimeout(function(){e.hideControls=!0,e.hidden.state(!0)},1e3*this.vgAutohideTime))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();H.\u0275fac=function(e){return new(e||H)(a["\u0275\u0275directiveInject"](y),a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](b))},H.\u0275cmp=a["\u0275\u0275defineComponent"]({type:H,selectors:[["vg-controls"]],hostVars:4,hostBindings:function(e,t){2&e&&(a["\u0275\u0275styleProp"]("pointer-events",t.isAdsPlaying),a["\u0275\u0275classProp"]("hide",t.hideControls))},inputs:{vgAutohide:"vgAutohide",vgAutohideTime:"vgAutohideTime",vgFor:"vgFor"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275projection"](0))},styles:["\n      vg-controls {\n        position: absolute;\n        display: flex;\n        width: 100%;\n        height: 50px;\n        z-index: 300;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.5);\n        -webkit-transition: bottom 1s;\n        -khtml-transition: bottom 1s;\n        -moz-transition: bottom 1s;\n        -ms-transition: bottom 1s;\n        transition: bottom 1s;\n      }\n      vg-controls.hide {\n        bottom: -50px;\n      }\n    "],encapsulation:2}),H.ctorParameters=function(){return[{type:y},{type:a.ElementRef},{type:b}]},H.propDecorators={isAdsPlaying:[{type:a.HostBinding,args:["style.pointer-events"]}],hideControls:[{type:a.HostBinding,args:["class.hide"]}],vgFor:[{type:a.Input}],vgAutohide:[{type:a.Input}],vgAutohideTime:[{type:a.Input}]};var $=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.subscriptions=[],this.elem=t.nativeElement,this.isDragging=!1}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor),this.ariaValue=100*this.getVolume()}},{key:"onClick",value:function(e){this.setVolume(this.calculateVolume(e.clientX))}},{key:"onMouseDown",value:function(e){this.mouseDownPosX=e.clientX,this.isDragging=!0}},{key:"onDrag",value:function(e){this.isDragging&&this.setVolume(this.calculateVolume(e.clientX))}},{key:"onStopDrag",value:function(e){this.isDragging&&(this.isDragging=!1,this.mouseDownPosX===e.clientX&&this.setVolume(this.calculateVolume(e.clientX)))}},{key:"arrowAdjustVolume",value:function(e){38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()+10)))):37!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()-10))))}},{key:"calculateVolume",value:function(e){var t=this.volumeBarRef.nativeElement.getBoundingClientRect();return(e-t.left)/t.width*100}},{key:"setVolume",value:function(e){this.target.volume=Math.max(0,Math.min(1,e/100)),this.ariaValue=100*this.target.volume}},{key:"getVolume",value:function(){return this.target?this.target.volume:0}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();$.\u0275fac=function(e){return new(e||$)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},$.\u0275cmp=a["\u0275\u0275defineComponent"]({type:$,selectors:[["vg-volume"]],viewQuery:function(e,t){var n;(1&e&&a["\u0275\u0275viewQuery"](M,3),2&e)&&(a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.volumeBarRef=n.first))},hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("mousemove",function(e){return t.onDrag(e)},!1,a["\u0275\u0275resolveDocument"])("mouseup",function(e){return t.onStopDrag(e)},!1,a["\u0275\u0275resolveDocument"])("keydown",function(e){return t.arrowAdjustVolume(e)})},inputs:{vgFor:"vgFor"},decls:5,vars:9,consts:[["tabindex","0","role","slider","aria-label","volume level","aria-level","polite","aria-valuemin","0","aria-valuemax","100","aria-orientation","horizontal",1,"volumeBar",3,"click","mousedown"],["volumeBar",""],[1,"volumeBackground",3,"ngClass"],[1,"volumeValue"],[1,"volumeKnob"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0,1),a["\u0275\u0275listener"]("click",function(e){return t.onClick(e)})("mousedown",function(e){return t.onMouseDown(e)}),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275element"](3,"div",3),a["\u0275\u0275element"](4,"div",4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275attribute"]("aria-valuenow",t.ariaValue)("aria-valuetext",t.ariaValue+"%"),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](7,V,t.isDragging)),a["\u0275\u0275advance"](1),a["\u0275\u0275styleProp"]("width",85*t.getVolume()+"%"),a["\u0275\u0275advance"](1),a["\u0275\u0275styleProp"]("left",85*t.getVolume()+"%"))},directives:[i.NgClass],styles:["\n      vg-volume {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 100px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-volume .volumeBar {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n      }\n      vg-volume .volumeBackground {\n        display: flex;\n        flex-grow: 1;\n        height: 5px;\n        pointer-events: none;\n        background-color: #333;\n      }\n      vg-volume .volumeValue {\n        display: flex;\n        height: 5px;\n        pointer-events: none;\n        background-color: #fff;\n        transition: all 0.2s ease-out;\n      }\n      vg-volume .volumeKnob {\n        position: absolute;\n        width: 15px;\n        height: 15px;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        border-radius: 15px;\n        pointer-events: none;\n        background-color: #fff;\n        transition: all 0.2s ease-out;\n      }\n      vg-volume .volumeBackground.dragging .volumeValue,\n      vg-volume .volumeBackground.dragging .volumeKnob {\n        transition: none;\n      }\n    "],encapsulation:2}),$.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},$.propDecorators={vgFor:[{type:a.Input}],volumeBarRef:[{type:a.ViewChild,args:["volumeBar",{static:!0}]}],onDrag:[{type:a.HostListener,args:["document:mousemove",["$event"]]}],onStopDrag:[{type:a.HostListener,args:["document:mouseup",["$event"]]}],arrowAdjustVolume:[{type:a.HostListener,args:["keydown",["$event"]]}]};var N=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.subscriptions=[],this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor);var e=Array.from(this.API.getMasterMedia().elem.children).filter(function(e){return"TRACK"===e.tagName}).filter(function(e){return"subtitles"===e.kind}).map(function(e){return{label:e.label,selected:!0===e.default,id:e.srclang}});this.tracks=[].concat(Object(j.a)(e),[{id:null,label:"Off",selected:e.every(function(e){return!1===e.selected})}]);var t=this.tracks.filter(function(e){return!0===e.selected})[0];this.trackSelected=t.id,this.ariaValue=t.label}},{key:"selectTrack",value:function(e){var t=this;this.trackSelected="null"===e?null:e,this.ariaValue="No track selected",Array.from(this.API.getMasterMedia().elem.textTracks).forEach(function(n){n.language===e?(t.ariaValue=n.label,n.mode="showing"):n.mode="hidden"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();N.\u0275fac=function(e){return new(e||N)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},N.\u0275cmp=a["\u0275\u0275defineComponent"]({type:N,selectors:[["vg-track-selector"]],inputs:{vgFor:"vgFor"},decls:5,vars:5,consts:[[1,"container"],[1,"track-selected"],["tabindex","0","aria-label","track selector",1,"trackSelector",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"select",2),a["\u0275\u0275listener"]("change",function(e){return t.selectTrack(e.target.value)}),a["\u0275\u0275template"](4,F,2,3,"option",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("vg-icon-closed_caption",!t.trackSelected),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.trackSelected||""," "),a["\u0275\u0275advance"](1),a["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.tracks))},directives:[i.NgForOf],styles:["\n      vg-track-selector {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        width: 50px;\n        height: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-track-selector .container {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n        padding: 0;\n        margin: 5px;\n      }\n      vg-track-selector select.trackSelector {\n        width: 50px;\n        padding: 5px 8px;\n        border: none;\n        background: none;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        color: transparent;\n        font-size: 16px;\n      }\n      vg-track-selector select.trackSelector::-ms-expand {\n        display: none;\n      }\n      vg-track-selector select.trackSelector option {\n        color: #000;\n      }\n      vg-track-selector .track-selected {\n        position: absolute;\n        width: 100%;\n        height: 50px;\n        top: -6px;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        padding-top: 2px;\n        pointer-events: none;\n      }\n      vg-track-selector .vg-icon-closed_caption:before {\n        width: 100%;\n      }\n    "],encapsulation:2}),N.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},N.propDecorators={vgFor:[{type:a.Input}]};var z=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"transform",value:function(e,t){var n=new Date(e),i=t,s=n.getUTCSeconds(),r=n.getUTCMinutes(),a=n.getUTCHours();return s<10&&(s="0"+s),r<10&&(r="0"+r),a<10&&(a="0"+a),i=(i=(i=i.replace(/ss/g,s)).replace(/mm/g,r)).replace(/hh/g,a)}}]),e}();z.\u0275fac=function(e){return new(e||z)},z.\u0275pipe=a["\u0275\u0275definePipe"]({name:"vgUtc",type:z,pure:!0});var U=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.vgProperty="current",this.vgFormat="mm:ss",this.subscriptions=[],this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"getTime",value:function(){var e=0;return this.target&&(e=Math.round(this.target.time[this.vgProperty]),e=isNaN(e)||this.target.isLive?0:e),e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();U.\u0275fac=function(e){return new(e||U)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},U.\u0275cmp=a["\u0275\u0275defineComponent"]({type:U,selectors:[["vg-time-display"]],inputs:{vgProperty:"vgProperty",vgFormat:"vgFormat",vgFor:"vgFor"},ngContentSelectors:R,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275template"](0,T,2,0,"span",0),a["\u0275\u0275template"](1,B,3,4,"span",0),a["\u0275\u0275projection"](2)),2&e&&(a["\u0275\u0275property"]("ngIf",null==t.target?null:t.target.isLive),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!(null!=t.target&&t.target.isLive)))},directives:[i.NgIf],pipes:[z],styles:["\n      vg-time-display {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 60px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n        pointer-events: none;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n      }\n    "],encapsulation:2}),U.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},U.propDecorators={vgFor:[{type:a.Input}],vgProperty:[{type:a.Input}],vgFormat:[{type:a.Input}]};var q=function(){function e(t,n,i){var s=this;Object(l.a)(this,e),this.API=n,this.hideScrubBar=!1,this.vgSlider=!0,this.isSeeking=!1,this.wasPlaying=!1,this.subscriptions=[],this.elem=t.nativeElement,this.subscriptions.push(i.isHidden.subscribe(function(e){return s.onHideScrubBar(e)}))}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"seekStart",value:function(){this.target.canPlay&&(this.isSeeking=!0,this.target.state===g.VG_PLAYING&&(this.wasPlaying=!0),this.target.pause())}},{key:"seekMove",value:function(e){if(this.isSeeking){var t=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.time.current=t*this.target.time.total/100,this.target.seekTime(t,!0)}}},{key:"seekEnd",value:function(e){if(this.isSeeking=!1,this.target.canPlay){var t=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.seekTime(t,!0),this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}}},{key:"touchEnd",value:function(){this.isSeeking=!1,this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}},{key:"getTouchOffset",value:function(e){for(var t=0,n=e.target;n;)t+=n.offsetLeft,n=n.offsetParent;return e.touches[0].pageX-t}},{key:"onMouseDownScrubBar",value:function(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(e.offsetX)))}},{key:"onMouseMoveScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(e.offsetX)}},{key:"onMouseUpScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekEnd(e.offsetX)}},{key:"onTouchStartScrubBar",value:function(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(this.getTouchOffset(e))))}},{key:"onTouchMoveScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(this.getTouchOffset(e))}},{key:"onTouchCancelScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}},{key:"onTouchEndScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}},{key:"arrowAdjustVolume",value:function(e){this.target&&(38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.target.seekTime((this.target.time.current+5e3)/1e3,!1)):37!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),this.target.seekTime((this.target.time.current-5e3)/1e3,!1)))}},{key:"getPercentage",value:function(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}},{key:"onHideScrubBar",value:function(e){this.hideScrubBar=e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();q.\u0275fac=function(e){return new(e||q)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y),a["\u0275\u0275directiveInject"](b))},q.\u0275cmp=a["\u0275\u0275defineComponent"]({type:q,selectors:[["vg-scrub-bar"]],hostVars:2,hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("mousedown",function(e){return t.onMouseDownScrubBar(e)})("mousemove",function(e){return t.onMouseMoveScrubBar(e)},!1,a["\u0275\u0275resolveDocument"])("mouseup",function(e){return t.onMouseUpScrubBar(e)},!1,a["\u0275\u0275resolveDocument"])("touchstart",function(e){return t.onTouchStartScrubBar(e)})("touchmove",function(e){return t.onTouchMoveScrubBar(e)},!1,a["\u0275\u0275resolveDocument"])("touchcancel",function(e){return t.onTouchCancelScrubBar(e)},!1,a["\u0275\u0275resolveDocument"])("touchend",function(e){return t.onTouchEndScrubBar(e)},!1,a["\u0275\u0275resolveDocument"])("keydown",function(e){return t.arrowAdjustVolume(e)}),2&e&&a["\u0275\u0275classProp"]("hide",t.hideScrubBar)},inputs:{vgSlider:"vgSlider",vgFor:"vgFor"},ngContentSelectors:R,decls:2,vars:2,consts:[["tabindex","0","role","slider","aria-label","scrub bar","aria-level","polite","aria-valuemin","0","aria-valuemax","100",1,"scrubBar"]],template:function(e,t){1&e&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275projection"](1),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275attribute"]("aria-valuenow",t.getPercentage())("aria-valuetext",t.getPercentage())},styles:["\n      vg-scrub-bar {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        position: absolute;\n        width: 100%;\n        height: 5px;\n        bottom: 50px;\n        margin: 0;\n        cursor: pointer;\n        align-items: center;\n        background: rgba(0, 0, 0, 0.75);\n        z-index: 250;\n        -webkit-transition: bottom 1s, opacity 0.5s;\n        -khtml-transition: bottom 1s, opacity 0.5s;\n        -moz-transition: bottom 1s, opacity 0.5s;\n        -ms-transition: bottom 1s, opacity 0.5s;\n        transition: bottom 1s, opacity 0.5s;\n      }\n      vg-scrub-bar .scrubBar {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n        height: 100%;\n      }\n      vg-controls vg-scrub-bar {\n        position: relative;\n        bottom: 0;\n        background: transparent;\n        height: 50px;\n        flex-grow: 1;\n        flex-basis: 0;\n        margin: 0 10px;\n        -webkit-transition: initial;\n        -khtml-transition: initial;\n        -moz-transition: initial;\n        -ms-transition: initial;\n        transition: initial;\n      }\n      vg-scrub-bar.hide {\n        bottom: 0;\n        opacity: 0;\n      }\n      vg-controls vg-scrub-bar.hide {\n        bottom: initial;\n        opacity: initial;\n      }\n    "],encapsulation:2}),q.ctorParameters=function(){return[{type:a.ElementRef},{type:y},{type:b}]},q.propDecorators={hideScrubBar:[{type:a.HostBinding,args:["class.hide"]}],vgFor:[{type:a.Input}],vgSlider:[{type:a.Input}],onMouseDownScrubBar:[{type:a.HostListener,args:["mousedown",["$event"]]}],onMouseMoveScrubBar:[{type:a.HostListener,args:["document:mousemove",["$event"]]}],onMouseUpScrubBar:[{type:a.HostListener,args:["document:mouseup",["$event"]]}],onTouchStartScrubBar:[{type:a.HostListener,args:["touchstart",["$event"]]}],onTouchMoveScrubBar:[{type:a.HostListener,args:["document:touchmove",["$event"]]}],onTouchCancelScrubBar:[{type:a.HostListener,args:["document:touchcancel",["$event"]]}],onTouchEndScrubBar:[{type:a.HostListener,args:["document:touchend",["$event"]]}],arrowAdjustVolume:[{type:a.HostListener,args:["keydown",["$event"]]}]};var K=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.onBitrateChange=new a.EventEmitter,this.subscriptions=[],this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){e.bitrates.currentValue&&e.bitrates.currentValue.length&&this.bitrates.forEach(function(e){return e.label=e.label||Math.round(e.bitrate/1e3).toString()})}},{key:"selectBitrate",value:function(e){this.bitrateSelected=this.bitrates[e],this.onBitrateChange.emit(this.bitrates[e])}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();K.\u0275fac=function(e){return new(e||K)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},K.\u0275cmp=a["\u0275\u0275defineComponent"]({type:K,selectors:[["vg-quality-selector"]],inputs:{bitrates:"bitrates"},outputs:{onBitrateChange:"onBitrateChange"},features:[a["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:5,consts:[[1,"container"],[1,"quality-selected"],["tabindex","0","aria-label","quality selector",1,"quality-selector",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"select",2),a["\u0275\u0275listener"]("change",function(e){return t.selectBitrate(e.target.value)}),a["\u0275\u0275template"](4,_,2,3,"option",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275classProp"]("vg-icon-hd",!t.bitrateSelected),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",null==t.bitrateSelected?null:t.bitrateSelected.label," "),a["\u0275\u0275advance"](1),a["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.bitrates))},directives:[i.NgForOf],styles:["\n      vg-quality-selector {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        width: 50px;\n        height: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-quality-selector .container {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n        padding: 0;\n        margin: 5px;\n      }\n      vg-quality-selector select.quality-selector {\n        width: 50px;\n        padding: 5px 8px;\n        border: none;\n        background: none;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        color: transparent;\n        font-size: 16px;\n      }\n      vg-quality-selector select.quality-selector::-ms-expand {\n        display: none;\n      }\n      vg-quality-selector select.quality-selector option {\n        color: #000;\n      }\n      vg-quality-selector .quality-selected {\n        position: absolute;\n        width: 100%;\n        height: 50px;\n        top: -6px;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        padding-top: 2px;\n        pointer-events: none;\n      }\n      vg-quality-selector .vg-icon-closed_caption:before {\n        width: 100%;\n      }\n    "],encapsulation:2}),K.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},K.propDecorators={bitrates:[{type:a.Input}],onBitrateChange:[{type:a.Output}]};var Y=function(){function e(t,n,i){Object(l.a)(this,e),this.API=n,this.cdr=i,this.subscriptions=[],this.ariaValue=1,this.elem=t.nativeElement,this.playbackValues=["0.5","1.0","1.5","2.0"],this.playbackIndex=1}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"onClick",value:function(){this.updatePlaybackSpeed()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.updatePlaybackSpeed())}},{key:"updatePlaybackSpeed",value:function(){this.playbackIndex=++this.playbackIndex%this.playbackValues.length,this.target instanceof y?this.target.playbackRate=this.playbackValues[this.playbackIndex]:this.target.playbackRate[this.vgFor]=this.playbackValues[this.playbackIndex],this.detectChanges()}},{key:"getPlaybackRate",value:function(){return this.ariaValue=this.target?this.target.playbackRate:1,this.ariaValue}},{key:"detectChanges",value:function(){try{this.cdr.detectChanges()}catch(e){console.warn(e)}}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();Y.\u0275fac=function(e){return new(e||Y)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y),a["\u0275\u0275directiveInject"](a.ChangeDetectorRef))},Y.\u0275cmp=a["\u0275\u0275defineComponent"]({type:Y,selectors:[["vg-playback-button"]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("click",function(){return t.onClick()})("keydown",function(e){return t.onKeyDown(e)})},inputs:{playbackValues:"playbackValues",vgFor:"vgFor"},decls:2,vars:2,consts:[["tabindex","0","role","button","aria-label","playback speed button",1,"button"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"span",0),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.getPlaybackRate(),"x "))},styles:["\n      vg-playback-button {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n      }\n      vg-playback-button .button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 50px;\n      }\n    "],encapsulation:2}),Y.ctorParameters=function(){return[{type:a.ElementRef},{type:y},{type:a.ChangeDetectorRef}]},Y.propDecorators={vgFor:[{type:a.Input}],playbackValues:[{type:a.Input}],onClick:[{type:a.HostListener,args:["click"]}],onKeyDown:[{type:a.HostListener,args:["keydown",["$event"]]}]};var X=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.subscriptions=[],this.ariaValue=g.VG_PAUSED,this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"onClick",value:function(){this.playPause()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.playPause())}},{key:"playPause",value:function(){switch(this.getState()){case g.VG_PLAYING:this.target.pause();break;case g.VG_PAUSED:case g.VG_ENDED:this.target.play()}}},{key:"getState",value:function(){return this.ariaValue=this.target?this.target.state:g.VG_PAUSED,this.ariaValue}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();X.\u0275fac=function(e){return new(e||X)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},X.\u0275cmp=a["\u0275\u0275defineComponent"]({type:X,selectors:[["vg-play-pause"]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("click",function(){return t.onClick()})("keydown",function(e){return t.onKeyDown(e)})},inputs:{vgFor:"vgFor"},decls:1,vars:6,consts:[["tabindex","0","role","button",1,"icon"]],template:function(e,t){1&e&&a["\u0275\u0275element"](0,"div",0),2&e&&(a["\u0275\u0275classProp"]("vg-icon-pause","playing"===t.getState())("vg-icon-play_arrow","paused"===t.getState()||"ended"===t.getState()),a["\u0275\u0275attribute"]("aria-label","paused"===t.getState()?"play":"pause")("aria-valuetext",t.ariaValue))},styles:["\n      vg-play-pause {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-play-pause .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),X.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},X.propDecorators={vgFor:[{type:a.Input}],onClick:[{type:a.HostListener,args:["click"]}],onKeyDown:[{type:a.HostListener,args:["keydown",["$event"]]}]};var W=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.subscriptions=[],this.ariaValue="unmuted",this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor),this.currentVolume=this.target.volume}},{key:"onClick",value:function(){this.changeMuteState()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.changeMuteState())}},{key:"changeMuteState",value:function(){var e=this.getVolume();0===e?(0===this.target.volume&&0===this.currentVolume&&(this.currentVolume=1),this.target.volume=this.currentVolume):(this.currentVolume=e,this.target.volume=0)}},{key:"getVolume",value:function(){var e=this.target?this.target.volume:0;return this.ariaValue=e?"unmuted":"muted",e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();W.\u0275fac=function(e){return new(e||W)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},W.\u0275cmp=a["\u0275\u0275defineComponent"]({type:W,selectors:[["vg-mute"]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("click",function(){return t.onClick()})("keydown",function(e){return t.onKeyDown(e)})},inputs:{vgFor:"vgFor"},decls:1,vars:9,consts:[["tabindex","0","role","button","aria-label","mute button",1,"icon"]],template:function(e,t){1&e&&a["\u0275\u0275element"](0,"div",0),2&e&&(a["\u0275\u0275classProp"]("vg-icon-volume_up",t.getVolume()>=.75)("vg-icon-volume_down",t.getVolume()>=.25&&t.getVolume()<.75)("vg-icon-volume_mute",t.getVolume()>0&&t.getVolume()<.25)("vg-icon-volume_off",0===t.getVolume()),a["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue))},styles:["\n      vg-mute {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-mute .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),W.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},W.propDecorators={vgFor:[{type:a.Input}],onClick:[{type:a.HostListener,args:["click"]}],onKeyDown:[{type:a.HostListener,args:["keydown",["$event"]]}]};var Q=function(){function e(t,n,i){Object(l.a)(this,e),this.API=n,this.fsAPI=i,this.isFullscreen=!1,this.subscriptions=[],this.ariaValue="normal mode",this.elem=t.nativeElement,this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)))}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"onChangeFullscreen",value:function(e){this.ariaValue=e?"fullscreen mode":"normal mode",this.isFullscreen=e}},{key:"onClick",value:function(){this.changeFullscreenState()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.changeFullscreenState())}},{key:"changeFullscreenState",value:function(){var e=this.target;this.target instanceof y&&(e=null),this.fsAPI.toggleFullscreen(e)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();Q.\u0275fac=function(e){return new(e||Q)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y),a["\u0275\u0275directiveInject"](k))},Q.\u0275cmp=a["\u0275\u0275defineComponent"]({type:Q,selectors:[["vg-fullscreen"]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("click",function(){return t.onClick()})("keydown",function(e){return t.onKeyDown(e)})},decls:1,vars:5,consts:[["tabindex","0","role","button","aria-label","fullscreen button",1,"icon"]],template:function(e,t){1&e&&a["\u0275\u0275element"](0,"div",0),2&e&&(a["\u0275\u0275classProp"]("vg-icon-fullscreen",!t.isFullscreen)("vg-icon-fullscreen_exit",t.isFullscreen),a["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue))},styles:["\n      vg-fullscreen {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-fullscreen .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),Q.ctorParameters=function(){return[{type:a.ElementRef},{type:y},{type:k}]},Q.propDecorators={onClick:[{type:a.HostListener,args:["click"]}],onKeyDown:[{type:a.HostListener,args:["keydown",["$event"]]}]};var J=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.subscriptions=[],this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"getBufferTime",value:function(){var e="0%";return this.target&&this.target.buffer&&this.target.buffered.length&&(e=0===this.target.time.total?"0%":this.target.buffer.end/this.target.time.total*100+"%"),e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();J.\u0275fac=function(e){return new(e||J)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},J.\u0275cmp=a["\u0275\u0275defineComponent"]({type:J,selectors:[["vg-scrub-bar-buffering-time"]],inputs:{vgFor:"vgFor"},decls:1,vars:2,consts:[[1,"background"]],template:function(e,t){1&e&&a["\u0275\u0275element"](0,"div",0),2&e&&a["\u0275\u0275styleProp"]("width",t.getBufferTime())},styles:["\n      vg-scrub-bar-buffering-time {\n        display: flex;\n        width: 100%;\n        height: 5px;\n        pointer-events: none;\n        position: absolute;\n      }\n      vg-scrub-bar-buffering-time .background {\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n      vg-controls vg-scrub-bar-buffering-time {\n        position: absolute;\n        top: calc(50% - 3px);\n      }\n      vg-controls vg-scrub-bar-buffering-time .background {\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n    "],encapsulation:2}),J.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},J.propDecorators={vgFor:[{type:a.Input}]};var Z=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.onLoadedMetadataCalled=!1,this.cuePoints=[],this.subscriptions=[],this.totalCues=0,this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor);var e=this.target.subscriptions.loadedMetadata;this.subscriptions.push(e.subscribe(this.onLoadedMetadata.bind(this))),this.onLoadedMetadataCalled&&this.onLoadedMetadata()}},{key:"onLoadedMetadata",value:function(){if(this.vgCuePoints){this.cuePoints=[];for(var e=0,t=this.vgCuePoints.length;e<t;e++){var n=1e3*((this.vgCuePoints[e].endTime>=0?this.vgCuePoints[e].endTime:this.vgCuePoints[e].startTime+1)-this.vgCuePoints[e].startTime),i="0",s="0";"number"==typeof n&&this.target.time.total&&(s=100*n/this.target.time.total+"%",i=100*this.vgCuePoints[e].startTime/Math.round(this.target.time.total/1e3)+"%"),this.vgCuePoints[e].$$style={width:s,left:i},this.cuePoints.push(this.vgCuePoints[e])}}}},{key:"updateCuePoints",value:function(){this.target?this.onLoadedMetadata():this.onLoadedMetadataCalled=!0}},{key:"ngOnChanges",value:function(e){e.vgCuePoints.currentValue&&this.updateCuePoints()}},{key:"ngDoCheck",value:function(){this.vgCuePoints&&(this.totalCues!==this.vgCuePoints.length&&(this.totalCues=this.vgCuePoints.length,this.updateCuePoints()))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();Z.\u0275fac=function(e){return new(e||Z)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},Z.\u0275cmp=a["\u0275\u0275defineComponent"]({type:Z,selectors:[["vg-scrub-bar-cue-points"]],inputs:{vgCuePoints:"vgCuePoints",vgFor:"vgFor"},features:[a["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:1,consts:[[1,"cue-point-container"],["class","cue-point",3,"width","left",4,"ngFor","ngForOf"],[1,"cue-point"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275template"](1,G,1,4,"span",1),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.cuePoints))},directives:[i.NgForOf],styles:["\n      vg-scrub-bar-cue-points {\n        display: flex;\n        width: 100%;\n        height: 5px;\n        pointer-events: none;\n        position: absolute;\n      }\n      vg-scrub-bar-cue-points .cue-point-container .cue-point {\n        position: absolute;\n        height: 5px;\n        background-color: rgba(255, 204, 0, 0.7);\n      }\n      vg-controls vg-scrub-bar-cue-points {\n        position: absolute;\n        top: calc(50% - 3px);\n      }\n    "],encapsulation:2}),Z.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},Z.propDecorators={vgCuePoints:[{type:a.Input}],vgFor:[{type:a.Input}]};var ee=function(){function e(t,n){Object(l.a)(this,e),this.API=n,this.vgSlider=!1,this.subscriptions=[],this.elem=t.nativeElement}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"getPercentage",value:function(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}();ee.\u0275fac=function(e){return new(e||ee)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},ee.\u0275cmp=a["\u0275\u0275defineComponent"]({type:ee,selectors:[["vg-scrub-bar-current-time"]],inputs:{vgSlider:"vgSlider",vgFor:"vgFor"},decls:2,vars:3,consts:[[1,"background"],["class","slider",4,"ngIf"],[1,"slider"]],template:function(e,t){1&e&&(a["\u0275\u0275element"](0,"div",0),a["\u0275\u0275template"](1,L,1,0,"span",1)),2&e&&(a["\u0275\u0275styleProp"]("width",t.getPercentage()),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.vgSlider))},directives:[i.NgIf],styles:["\n      vg-scrub-bar-current-time {\n        display: flex;\n        width: 100%;\n        height: 5px;\n        pointer-events: none;\n        position: absolute;\n      }\n      vg-scrub-bar-current-time .background {\n        background-color: white;\n      }\n      vg-controls vg-scrub-bar-current-time {\n        position: absolute;\n        top: calc(50% - 3px);\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n      vg-controls vg-scrub-bar-current-time .background {\n        border: 1px solid white;\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n      vg-scrub-bar-current-time .slider {\n        background: white;\n        height: 15px;\n        width: 15px;\n        border-radius: 50%;\n        box-shadow: 0px 0px 10px black;\n        margin-top: -5px;\n        margin-left: -10px;\n      }\n    "],encapsulation:2}),ee.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},ee.propDecorators={vgFor:[{type:a.Input}],vgSlider:[{type:a.Input}]};var te=function e(){Object(l.a)(this,e)};te.\u0275fac=function(e){return new(e||te)},te.\u0275mod=a["\u0275\u0275defineNgModule"]({type:te}),te.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,S]]});var ne=[{path:"",component:function(){function e(e){this.pageTitle=e,this.sources=[{src:"assets/audio/SampleAudio_0.4mb.mp3",type:"audio/mp3"}]}return e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.pageTitle.setTitle("Video Player")},0)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](o.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ms-video-player"]],decls:38,vars:4,consts:[[1,"video-player-wrap"],[1,"mrgn-b-none"],[1,"video-pl","mrgn-all-md","mrgn-b-lg"],["id","singleVideo","preload","auto","controls","",3,"vgMedia"],["media",""],["src","http://vjs.zencdn.net/v/oceans.mp4","type","video/mp4"],["src","http://vjs.zencdn.net/v/oceans.ogg","type","video/ogg"],["src","http://vjs.zencdn.net/v/oceans.webm","type","video/webm"],[3,"vgSlider"],["vgProperty","current","vgFormat","mm:ss"],[2,"pointer-events","none"],["vgProperty","left","vgFormat","mm:ss"],["vgProperty","total","vgFormat","mm:ss"],["id","singleVideo","preload","auto","crossorigin","",3,"vgMedia"],["kind","subtitles","label","English","src","http://static.videogular.com/assets/subs/pale-blue-dot.vtt","srclang","en","default",""],["kind","subtitles","label","Espa\xf1ol","src","http://static.videogular.com/assets/subs/pale-blue-dot-es.vtt","srclang","es"]],template:function(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"mat-card"),a["\u0275\u0275elementStart"](2,"div"),a["\u0275\u0275elementStart"](3,"h3",1),a["\u0275\u0275text"](4,"Simple Player"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"vg-player",2),a["\u0275\u0275elementStart"](6,"video",3,4),a["\u0275\u0275element"](8,"source",5),a["\u0275\u0275element"](9,"source",6),a["\u0275\u0275element"](10,"source",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"div",0),a["\u0275\u0275elementStart"](12,"mat-card"),a["\u0275\u0275elementStart"](13,"div"),a["\u0275\u0275elementStart"](14,"h3",1),a["\u0275\u0275text"](15,"Bound Player"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](16,"vg-player",2),a["\u0275\u0275element"](17,"vg-overlay-play"),a["\u0275\u0275element"](18,"vg-buffering"),a["\u0275\u0275elementStart"](19,"vg-scrub-bar",8),a["\u0275\u0275element"](20,"vg-scrub-bar-current-time",8),a["\u0275\u0275element"](21,"vg-scrub-bar-buffering-time"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](22,"vg-controls"),a["\u0275\u0275element"](23,"vg-play-pause"),a["\u0275\u0275element"](24,"vg-playback-button"),a["\u0275\u0275element"](25,"vg-time-display",9),a["\u0275\u0275element"](26,"vg-scrub-bar",10),a["\u0275\u0275element"](27,"vg-time-display",11),a["\u0275\u0275element"](28,"vg-time-display",12),a["\u0275\u0275element"](29,"vg-track-selector"),a["\u0275\u0275element"](30,"vg-mute"),a["\u0275\u0275element"](31,"vg-volume"),a["\u0275\u0275element"](32,"vg-fullscreen"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](33,"video",13,4),a["\u0275\u0275element"](35,"source",5),a["\u0275\u0275element"](36,"track",14),a["\u0275\u0275element"](37,"track",15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){var n=a["\u0275\u0275reference"](7);a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("vgMedia",n),a["\u0275\u0275advance"](13),a["\u0275\u0275property"]("vgSlider",!0),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("vgSlider",!0),a["\u0275\u0275advance"](13),a["\u0275\u0275property"]("vgMedia",n)}},directives:[r.a,w,I,x,O,q,ee,J,H,X,Y,U,N,W,$,Q],styles:[".video-player-wrap .video-pl{display:flex;justify-content:center;border-radius:4px;width:auto}.video-player-wrap .video-pl video{width:100%;cursor:pointer}.video-player-wrap .audio-pl{height:50px}.video-player-wrap vg-controls{left:0;right:0}.video-player-wrap vg-scrub-bar{left:2rem;width:calc(100% - 4rem)}"],encapsulation:2}),e}()}],ie=n("rePB"),se=function(){function e(t,n){Object(l.a)(this,e),this.ref=t,this.API=n,this.onGetBitrates=new a.EventEmitter,this.subscriptions=[]}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){this.vgFor=this.ref.nativeElement.getAttribute("vgFor"),this.target=this.API.getMediaById(this.vgFor),this.createPlayer()}},{key:"ngOnChanges",value:function(e){var t;(null===(t=e.vgDash)||void 0===t?void 0:t.currentValue)?this.createPlayer():this.destroyPlayer()}},{key:"createPlayer",value:function(){var e=this;if(this.dash&&this.destroyPlayer(),this.vgDash&&(this.vgDash.indexOf(".mpd")>-1||this.vgDash.indexOf("mpd-time-csf")>-1)){var t;if(this.vgDRMLicenseServer&&(t=this.vgDRMLicenseServer,this.vgDRMToken))for(var n in t)n.hasOwnProperty(n)&&(t[n].httpRequestHeaders={Authorization:this.vgDRMToken});this.dash=dashjs.MediaPlayer().create(),this.dash.updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE}}),this.dash.initialize(this.ref.nativeElement),this.dash.setAutoPlay(!1),this.dash.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(){var t=e.dash.getBitrateInfoListFor("audio"),n=e.dash.getBitrateInfoListFor("video");t.length>1&&(t.forEach(function(e){return e.qualityIndex=++e.qualityIndex}),t.unshift({qualityIndex:0,width:0,height:0,bitrate:0,mediaType:"video",scanType:"AUTO"}),e.onGetBitrates.emit(t)),n.length>1&&(n.forEach(function(e){return e.qualityIndex=++e.qualityIndex}),n.unshift({qualityIndex:0,width:0,height:0,bitrate:0,mediaType:"video",scanType:"AUTO"}),e.onGetBitrates.emit(n))}),t&&this.dash.setProtectionData(t),this.dash.attachSource(this.vgDash)}else this.target&&(this.target.pause(),this.target.seekTime(0),this.ref.nativeElement.src=this.vgDash)}},{key:"setBitrate",value:function(e){var t=e.mediaType,n=e.qualityIndex;if(this.dash)if(n>0){this.dash.getSettings()&&this.dash.updateSettings({streaming:{abr:{autoSwitchBitrate:Object(ie.a)({},t,!1)}}});var i=n-1;this.dash.setQualityFor(t,i)}else this.dash.updateSettings({streaming:{abr:{autoSwitchBitrate:Object(ie.a)({},t,!0)}}})}},{key:"destroyPlayer",value:function(){this.dash&&(this.dash.reset(),this.dash=null)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.destroyPlayer()}}]),e}();se.\u0275fac=function(e){return new(e||se)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},se.\u0275dir=a["\u0275\u0275defineDirective"]({type:se,selectors:[["","vgDash",""]],inputs:{vgDash:"vgDash",vgDRMToken:"vgDRMToken",vgDRMLicenseServer:"vgDRMLicenseServer"},outputs:{onGetBitrates:"onGetBitrates"},exportAs:["vgDash"],features:[a["\u0275\u0275NgOnChangesFeature"]]}),se.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},se.propDecorators={vgDash:[{type:a.Input}],vgDRMToken:[{type:a.Input}],vgDRMLicenseServer:[{type:a.Input}],onGetBitrates:[{type:a.Output}]};var re=function(){function e(t,n){Object(l.a)(this,e),this.ref=t,this.API=n,this.vgHlsHeaders={},this.onGetBitrates=new a.EventEmitter,this.subscriptions=[]}return Object(u.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(function(){return e.onPlayerReady()}))}},{key:"onPlayerReady",value:function(){var e=this;this.crossorigin=this.ref.nativeElement.getAttribute("crossorigin"),this.preload="none"!==this.ref.nativeElement.getAttribute("preload"),this.vgFor=this.ref.nativeElement.getAttribute("vgFor"),this.vgFor?this.target=this.API.getMediaById(this.vgFor):this.target=this.API.getDefaultMedia(),this.config={autoStartLoad:this.preload},this.config.xhrSetup=function(t){"use-credentials"===e.crossorigin&&(t.withCredentials=!0);for(var n=0,i=Object.keys(e.vgHlsHeaders);n<i.length;n++){var s=i[n];t.setRequestHeader(s,e.vgHlsHeaders[s])}},this.createPlayer(),this.preload||this.subscriptions.push(this.API.subscriptions.play.subscribe(function(){e.hls&&e.hls.startLoad(0)}))}},{key:"ngOnChanges",value:function(e){var t;(null===(t=e.vgHls)||void 0===t?void 0:t.currentValue)?this.createPlayer():e.vgHlsHeaders&&e.vgHlsHeaders.currentValue||this.destroyPlayer()}},{key:"createPlayer",value:function(){var e=this;if(this.hls&&this.destroyPlayer(),this.vgHls&&this.vgHls.indexOf("m3u8")>-1&&Hls.isSupported()&&this.API.isPlayerReady){var t=this.ref.nativeElement;this.hls=new Hls(this.config),this.hls.on(Hls.Events.MANIFEST_PARSED,function(t,n){var i=[];i.push({qualityIndex:0,width:0,height:0,bitrate:0,mediaType:"video",label:"AUTO"}),n.levels.forEach(function(e,t){i.push({qualityIndex:++t,width:e.width,height:e.height,bitrate:e.bitrate,mediaType:"video",label:e.name})}),e.onGetBitrates.emit(i)}),this.hls.on(Hls.Events.LEVEL_LOADED,function(t,n){e.target.isLive=n.details.live}),this.hls.loadSource(this.vgHls),this.hls.attachMedia(t)}else this.target&&this.target.pause&&(this.target.pause(),this.target.seekTime(0),this.ref.nativeElement.src=this.vgHls)}},{key:"setBitrate",value:function(e){this.hls&&(this.hls.nextLevel=e.qualityIndex-1)}},{key:"destroyPlayer",value:function(){this.hls&&(this.hls.destroy(),this.hls=null)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.destroyPlayer(),delete this.hls}}]),e}();re.\u0275fac=function(e){return new(e||re)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](y))},re.\u0275dir=a["\u0275\u0275defineDirective"]({type:re,selectors:[["","vgHls",""]],inputs:{vgHlsHeaders:"vgHlsHeaders",vgHls:"vgHls"},outputs:{onGetBitrates:"onGetBitrates"},exportAs:["vgHls"],features:[a["\u0275\u0275NgOnChangesFeature"]]}),re.ctorParameters=function(){return[{type:a.ElementRef},{type:y}]},re.propDecorators={vgHls:[{type:a.Input}],vgHlsHeaders:[{type:a.Input}],onGetBitrates:[{type:a.Output}]};var ae=function e(){Object(l.a)(this,e)};ae.\u0275fac=function(e){return new(e||ae)},ae.\u0275mod=a["\u0275\u0275defineNgModule"]({type:ae}),ae.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,S]]});var oe=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[i.CommonModule,s.j.forChild(ne),S,te,C,D,ae,r.f]]}),e}()}}]);